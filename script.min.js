const canvas=document.getElementById("myCanvas"),ctx=canvas.getContext("2d"),chooseImage=document.querySelector(".choose-image"),generate=document.getElementById("generate-button");generate.style.display="none";const clear=document.getElementById("clear-button"),input=document.querySelector("input#tx");let tx,setImage="ma.jpg";const widthCanvas=1008,heightCanvas=630,factor=()=>1.6,ratio=1.6;chooseImage.addEventListener("click",e=>{e.stopPropagation(),setImage=e.target.getAttribute("src"),draw()});const setWidth=()=>{if(window.innerWidth<1008)return window.innerWidth},setHeight=ratio=>{if(window.innerWidth<1008)return window.innerWidth/ratio},setCanvasDimentions=()=>{canvas.width=setWidth()||1008,canvas.height=setHeight(1.6)||630};setCanvasDimentions(),window.addEventListener("resize",()=>{setCanvasDimentions(),draw()}),input.addEventListener("input",e=>{e.preventDefault(),tx=e.target.value,draw()}),clear.addEventListener("click",e=>{e.preventDefault(),tx="",input.value="",draw()});const imgWidth=setWidth()||1008,imgHeight=setHeight(1.6)||630,draw=()=>{if(canvas.getContext){const img=new Image;img.onload=function(){ctx.drawImage(img,0,0,canvas.width,canvas.height),tx&&text(tx)},img.src=setImage}else console.log("ERROR")};let stripX=canvas.width;const text=tx=>{console.log(tx),ctx.fillStyle="#fff",ctx.font="40px Arial",ctx.fillText(tx.toUpperCase(),canvas.width/5.2,canvas.height/1.227,canvas.width/1.4)};draw();